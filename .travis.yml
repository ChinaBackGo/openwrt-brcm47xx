language: c
dist: trusty
sudo: required
matrix:
    # works on Precise and Trusty
    - os: linux
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - g++-5
      env:
         - MATRIX_EVAL="CC=gcc-5 && CXX=g++-5"
before_install:
    - eval "${MATRIX_EVAL}"
script:
 - cd SDK
 - git clone https://github.com/shadowsocks/openwrt-feeds.git package/feeds
 - git clone https://github.com/shadowsocks/openwrt-shadowsocks.git package/shadowsocks-libev
 - make package/shadowsocks-libev/compile V=99